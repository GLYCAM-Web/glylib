<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>GLYLIB: src/string_utilities.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="../../search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="../../dir_4c50504df4ef4681d4a5a0710190c908.html">src</a>
  </div>
</div>
<div class="contents">
<h1>string_utilities.c File Reference</h1><code>#include &lt;<a class="el" href="../../d8/d8f/mylib_8h-source.html">mylib.h</a>&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for string_utilities.c:</div>
<div class="dynsection">
<p><center><img src="../../de/dfd/string__utilities_8c__incl.png" border="0" usemap="#src/string_utilities.c_map" alt=""></center>
<map name="src/string_utilities.c_map">
<area shape="rect" href="../../dd/dea/mylib_8h.html" title="generic header file that loads utilities often needed by programmers" alt="" coords="459,81,523,105"><area shape="rect" href="../../d9/d14/general_8h.html" title="Deprecated header file containing structures used by various functions within the..." alt="" coords="776,156,856,180"><area shape="rect" href="../../d1/d34/gly__codeutils_8h.html" title="header file that loads utilities to facilitate programming" alt="" coords="688,231,800,255"><area shape="rect" href="../../de/d42/gly__fileutils_8h.html" title="header file that loads utilities related to file I/O" alt="" coords="836,231,937,255"></map>
</div>

<p>
<a href="../../db/dc8/string__utilities_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3a/string__utilities_8c.html#f790a45562b331054052f3280f65dea9">prune_string_whitespace</a> (const char *I)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3a/string__utilities_8c.html#614bbda3ead0e35cdcbe7048ad4c6705">get_char_string</a> (const char *x, char j, int w)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3a/string__utilities_8c.html#e127ff60e9f10d4c4b5ab0408ef01c4b">get_float_string</a> (double x, char j, int w, int d)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d3a/string__utilities_8c.html#88e08000f8cec0e30d3bafa43ebea9dc">get_exp_string</a> (double x, char j, int w, int d)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Functions for writing variable strings.<p>
Contains utilities that produce numbers in certain formats or that remove initial and trailing whitespace, etc. 
<p>Definition in file <a class="el" href="../../db/dc8/string__utilities_8c-source.html">string_utilities.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="614bbda3ead0e35cdcbe7048ad4c6705"></a><!-- doxytag: member="string_utilities.c::get_char_string" ref="614bbda3ead0e35cdcbe7048ad4c6705" args="(const char *x, char j, int w)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_char_string           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>w</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Functions that produce variable-format output for numbers and strings.<p>
There must be some already-written way to do this, but I suspect I can write the functions before I can figure that out. So, these functions will generate strings when one does not know ahead of time the output format.<p>
For example:<p>
Assume you know you need to write out a double variable in exponential notation, but that the program will determine the proper number of decimal places and character width. These functions will help.<p>
So, where normally, you might write:<p>
<ul>
<li>fprintf("%18.8e",x);<ul>
<li>that's a right justified exponential, 18 chars wide with 8 decimal places</li></ul>
</li></ul>
<p>
You can do, instead:<p>
<ul>
<li>char j,*s;</li><li>int w,d;</li></ul>
<p>
<ul>
<li>w = figure_out_width();</li><li>d = figure_out_number_decimal_places();</li><li>j = figure_out_justification(); // 'L' or 'l' for left, 'R' or 'r' for right</li></ul>
<p>
<ul>
<li>s = strdup(get_exp_string(x,j,w,d));</li></ul>
<p>
<ul>
<li>fprintf("%s",s);</li></ul>
<p>
Normally, this is a lot of bother. But, at times, it can be useful.<p>
I'm lazy, so the maximum number of digits that can be printed is about 145. For float values, that number is divided into pre- and post-decimal, which makes for some limits. Hopefully, these limits are generous enough for most applications. This is hard-coded in the number-&gt;string functions below. There are much cooler ways to do this, and anyone who wants to code them is very welcome to do so. 
<p>
If the incoming string (x) is longer than outgoing size (w), write something to stderr and print what fits<p>
&lt; Allocate memory for new string 
<p>Definition at line <a class="el" href="../../db/dc8/string__utilities_8c-source.html#l00104">104</a> of file <a class="el" href="../../db/dc8/string__utilities_8c-source.html">string_utilities.c</a>.</p>

<p>References <a class="el" href="../../d7/d30/mywhine_8c-source.html#l00007">mywhine()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="../../d8/d3a/string__utilities_8c_614bbda3ead0e35cdcbe7048ad4c6705_cgraph.png" border="0" usemap="#d8/d3a/string__utilities_8c_614bbda3ead0e35cdcbe7048ad4c6705_cgraph_map" alt=""></center>
<map name="d8/d3a/string__utilities_8c_614bbda3ead0e35cdcbe7048ad4c6705_cgraph_map">
<area shape="rect" href="../../d1/d34/gly__codeutils_8h.html#adce93feeb2a291f0fef33ffc4a8509d" title="Prints error message and exits(1)." alt="" coords="172,5,247,29"></map>
</div>

</div>
</div><p>
<a class="anchor" name="88e08000f8cec0e30d3bafa43ebea9dc"></a><!-- doxytag: member="string_utilities.c::get_exp_string" ref="88e08000f8cec0e30d3bafa43ebea9dc" args="(double x, char j, int w, int d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_exp_string           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a character string corresponding to a exponential notation representation of the number supplied by x. The return string will have a width of w characters, d of which will be integers appearing to the right of the decimal point. The number will be justified as per the character in j (l or L or r or R for left or right). 
<p>Definition at line <a class="el" href="../../db/dc8/string__utilities_8c-source.html#l00337">337</a> of file <a class="el" href="../../db/dc8/string__utilities_8c-source.html">string_utilities.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="e127ff60e9f10d4c4b5ab0408ef01c4b"></a><!-- doxytag: member="string_utilities.c::get_float_string" ref="e127ff60e9f10d4c4b5ab0408ef01c4b" args="(double x, char j, int w, int d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_float_string           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>d</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a character string corresponding to a floating point representation of the number supplied by x. The return string will have a width of w characters, d of which will be integers appearing to the right of the decimal point. The number will be justified as per the character in j (l or L or r or R for left or right). 
<p>
If the incoming string (x) is longer than outgoing size (w), write something to stderr and print what fits<p>
&lt; Allocate memory for new string<p>
Otherwise, print a really wide version of the incoming number to a really wide string Here, the string is 150 chars wide, and 74 of those chars are decimal digits. Another 74 are allocated for the integer part of the float representation. That leaves two spaces, one for a decimal point and another for '-' if needed. At present, this function will not return a '+' sign for positive values.<p>
&lt; 150 wide, minus +/- designation and decimal point and half of that for the fraction<p>
&lt; tst=integer part ; d=fraction part ; 2 = space for . &amp; sign ( comes later)<p>
&lt; the starting point in the big number<p>
&lt; Allocate memory for new string<p>
&lt; the ending point in the big number<p>
&lt; check the integer where the null character will finally go<p>
&lt; but only if that won't put us over 150 chars (shouldn't ever happen, really)<p>
&lt; Allocate memory for new string<p>
See if we have a "9X' situation where we have to round up<p>
&lt; Print the first character (space or '-')<p>
&lt; Print a 1 in the next space<p>
For the rest of the string-1, for every 9 add a zero (one space over). Copy any decimals as-is<p>
&lt; Ensure null termination<p>
Increment the "first_not_nine" digit<p>
Change other nines to zeros<p>
&lt; Ensure null termination<p>
&lt; if that situation isn't present<p>
Increment the "end-1" digit<p>
&lt; Ensure null termination<p>
&lt; Ensure termination.<p>
&lt; Allocate memory for new string<p>
&lt; Calculated the padding needed (if any) 
<p>Definition at line <a class="el" href="../../db/dc8/string__utilities_8c-source.html#l00150">150</a> of file <a class="el" href="../../db/dc8/string__utilities_8c-source.html">string_utilities.c</a>.</p>

<p>References <a class="el" href="../../d7/d30/mywhine_8c-source.html#l00007">mywhine()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="../../d8/d3a/string__utilities_8c_e127ff60e9f10d4c4b5ab0408ef01c4b_cgraph.png" border="0" usemap="#d8/d3a/string__utilities_8c_e127ff60e9f10d4c4b5ab0408ef01c4b_cgraph_map" alt=""></center>
<map name="d8/d3a/string__utilities_8c_e127ff60e9f10d4c4b5ab0408ef01c4b_cgraph_map">
<area shape="rect" href="../../d1/d34/gly__codeutils_8h.html#adce93feeb2a291f0fef33ffc4a8509d" title="Prints error message and exits(1)." alt="" coords="172,5,247,29"></map>
</div>

</div>
</div><p>
<a class="anchor" name="f790a45562b331054052f3280f65dea9"></a><!-- doxytag: member="string_utilities.c::prune_string_whitespace" ref="f790a45562b331054052f3280f65dea9" args="(const char *I)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* prune_string_whitespace           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>I</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to prune leading and trailing whitespace from a string 
<p>
&lt; A counter<p>
&lt; Length (meaning varies)<p>
&lt; Length of incoming string<p>
&lt; Start point for pruned string<p>
&lt; End point for pruned string<p>
&lt; Outgoing string<p>
&lt; Begin at the last character 
<p>Definition at line <a class="el" href="../../db/dc8/string__utilities_8c-source.html#l00016">16</a> of file <a class="el" href="../../db/dc8/string__utilities_8c-source.html">string_utilities.c</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d57/add__to__moiety__selection_8c-source.html#l00089">add_to_moiety_selection()</a>, and <a class="el" href="../../d0/d84/get__keysvals_8c-source.html#l00028">get_keysvals_from_slurp()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="../../d8/d3a/string__utilities_8c_f790a45562b331054052f3280f65dea9_icgraph.png" border="0" usemap="#d8/d3a/string__utilities_8c_f790a45562b331054052f3280f65dea9_icgraph_map" alt=""></center>
<map name="d8/d3a/string__utilities_8c_f790a45562b331054052f3280f65dea9_icgraph_map">
<area shape="rect" href="../../d5/d10/add__to__moiety__selection_8c.html#e2f4892b279528b87b2fceb2af71e39a" title="add_to_moiety_selection" alt="" coords="231,5,404,29"><area shape="rect" href="../../df/da0/group__FILE__UTILS.html#g43ccd3dc37d4202817a454d5d15463f6" title="get_keysvals_from_slurp" alt="" coords="231,53,404,77"><area shape="rect" href="../../df/da0/group__FILE__UTILS.html#g47349a1117aa52ae410a864093ad6a20" title="get_keysvals_from_file" alt="" coords="453,53,616,77"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 6 15:40:59 2009 for GLYLIB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
